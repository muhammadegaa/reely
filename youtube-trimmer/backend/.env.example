# Reely Backend Environment Configuration
# Copy this file to .env and update with your actual values

# Application Settings
ENVIRONMENT=development  # development, staging, production
DEBUG=true
APP_NAME=Reely
APP_VERSION=2.0.0

# Server Configuration
HOST=0.0.0.0
PORT=8000

# Database Configuration
DATABASE_URL=postgresql://reely_user:reely_password@localhost:5432/reely_db
USE_SQLITE=true  # Set to false for production PostgreSQL

# Connection Pool Settings (PostgreSQL only)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# Redis Configuration (for caching and rate limiting)
REDIS_URL=redis://localhost:6379/0

# JWT Authentication
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:5173

# AI API Keys (at least one required for AI features)
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Stripe Payment Integration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here
STRIPE_PRICE_ID_PRO=price_your-pro-price-id-here
STRIPE_PRICE_ID_PREMIUM=price_your-premium-price-id-here

# AWS Configuration (for file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=reely-uploads

# Email Configuration (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Authentication Rate Limiting
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# API Key Settings
API_KEY_EXPIRE_DAYS=365
MAX_API_KEYS_PER_USER=5

# Monitoring and Logging
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SQL_ECHO=false  # Set to true to log SQL queries (development only)

# Usage Analytics
ANALYTICS_RETENTION_DAYS=90
ENABLE_USAGE_ANALYTICS=true

# Background Jobs
ENABLE_BACKGROUND_CLEANUP=true
CLEANUP_INTERVAL_HOURS=24

# Security
ENABLE_SECURITY_HEADERS=true

# Subscription Limits (can be overridden by database)
FREE_TIER_MONTHLY_TRIMS=5
FREE_TIER_MONTHLY_HOOKS=3
PRO_TIER_MONTHLY_TRIMS=100
PRO_TIER_MONTHLY_HOOKS=50

# Production-only settings (ignored in development)
# These should only be set in production environment

# Trusted hosts (production only)
TRUSTED_HOSTS=reely.com,*.reely.com,api.reely.com

# SSL Settings (production only)
FORCE_HTTPS=true

# File Upload Limits
MAX_FILE_SIZE_MB=500
TEMP_FILE_CLEANUP_HOURS=24

# Video Processing
MAX_VIDEO_DURATION_SECONDS=7200  # 2 hours
DEFAULT_VIDEO_QUALITY=
720p